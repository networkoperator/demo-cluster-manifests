apiVersion: netop.mgr/v1alpha1
kind: FabricInfra
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"netop.mgr/v1alpha1","kind":"FabricInfra","metadata":{"annotations":{},"labels":{"fabric":"aci-fab-02","site":"az02"},"name":"alok-fabric","namespace":"netop-manager"},"spec":{"contexts":{"context-1":{"aep":"hypf-aep","l3out":{"external_networks":["k8s23_net"],"name":"k8s23"},"vrf":{"name":"k8s23_vrf","tenant":"common"}},"context-2":{"aep":"fab20-esx","l3out":{"external_networks":["k8s22_net"],"name":"k8s22"},"vrf":{"name":"k8s22_vrf","tenant":"common"}}},"credentials":{"hosts":["10.30.120.180"],"secretRef":{"name":"apic-credentials"}},"external_subnets":["10.3.0.1/24","10.4.0.1/24"],"fabric_type":"aci","infra_vlan":3901,"internal_subnets":["10.5.0.1/24","192.168.23.1/24","192.168.22.1/24"],"mcast_subnets":["225.33.0.0/16","225.32.0.0/16"],"vlans":[45,46,43,44]}}
  creationTimestamp: "2023-03-23T10:56:54Z"
  finalizers:
  - fabricinfra.netop.mgr/finalizer
  generation: 2
  labels:
    fabric: aci-fab-02
    site: az02
  managedFields:
  - apiVersion: netop.mgr/v1alpha1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:annotations:
          .: {}
          f:kubectl.kubernetes.io/last-applied-configuration: {}
        f:labels:
          .: {}
          f:fabric: {}
          f:site: {}
      f:spec:
        .: {}
        f:contexts:
          .: {}
          f:context-1:
            .: {}
            f:aep: {}
            f:l3out:
              .: {}
              f:external_networks: {}
              f:name: {}
            f:vrf:
              .: {}
              f:name: {}
              f:tenant: {}
          f:context-2:
            .: {}
            f:aep: {}
            f:l3out:
              .: {}
              f:external_networks: {}
              f:name: {}
            f:vrf:
              .: {}
              f:name: {}
              f:tenant: {}
        f:credentials:
          .: {}
          f:hosts: {}
          f:secretRef:
            .: {}
            f:name: {}
        f:external_subnets: {}
        f:fabric_type: {}
        f:infra_vlan: {}
        f:internal_subnets: {}
        f:mcast_subnets: {}
        f:vlans: {}
    manager: kubectl-client-side-apply
    operation: Update
    time: "2023-03-23T10:56:54Z"
  - apiVersion: netop.mgr/v1alpha1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:finalizers:
          .: {}
          v:"fabricinfra.netop.mgr/finalizer": {}
      f:spec:
        f:bgp: {}
        f:topology: {}
    manager: manager
    operation: Update
    time: "2023-03-23T10:56:54Z"
  - apiVersion: netop.mgr/v1alpha1
    fieldsType: FieldsV1
    fieldsV1:
      f:status:
        .: {}
        f:allocated: {}
        f:available:
          .: {}
          f:contexts:
            .: {}
            f:context-2:
              .: {}
              f:aep: {}
              f:l3out:
                .: {}
                f:external_networks: {}
                f:name: {}
              f:vrf:
                .: {}
                f:name: {}
                f:tenant: {}
          f:internal_subnets: {}
          f:mcast_subnets: {}
          f:vlans: {}
        f:ready: {}
    manager: manager
    operation: Update
    subresource: status
    time: "2023-03-23T10:57:19Z"
  name: alok-fabric
  namespace: netop-manager
  resourceVersion: "343360"
  uid: 20423dd2-af48-4c3d-8f54-572d928e927d
spec:
  bgp: {}
  contexts:
    context-1:
      aep: hypf-aep
      l3out:
        external_networks:
        - k8s23_net
        name: k8s23
      vrf:
        name: k8s23_vrf
        tenant: common
    context-2:
      aep: fab20-esx
      l3out:
        external_networks:
        - k8s22_net
        name: k8s22
      vrf:
        name: k8s22_vrf
        tenant: common
  credentials:
    hosts:
    - 10.30.120.180
    secretRef:
      name: apic-credentials
  external_subnets:
  - 10.3.0.1/24
  - 10.4.0.1/24
  fabric_type: aci
  infra_vlan: 3901
  internal_subnets:
  - 10.5.0.1/24
  - 192.168.23.1/24
  - 192.168.22.1/24
  mcast_subnets:
  - 225.33.0.0/16
  - 225.32.0.0/16
  topology: {}
  vlans:
  - 45
  - 46
  - 43
  - 44
status:
  allocated:
  - cluster_group_profile: k8s-prod-acicni-az02
    cluster_profile: k8s-prod-002
    context:
      aep: hypf-aep
      l3out:
        external_networks:
        - k8s23_net
        name: k8s23
      vrf:
        name: k8s23_vrf
        tenant: common
    external_subnets:
    - 10.3.0.1/24
    - 10.4.0.1/24
    internal_subnets:
    - 10.5.0.1/24
    - 192.168.23.1/24
    mcast_subnets:
    - 225.33.0.0/16
    vlans:
    - 45
    - 46
  available:
    contexts:
      context-2:
        aep: fab20-esx
        l3out:
          external_networks:
          - k8s22_net
          name: k8s22
        vrf:
          name: k8s22_vrf
          tenant: common
    internal_subnets:
    - 192.168.22.1/24
    mcast_subnets:
    - 225.32.0.0/16
    vlans:
    - 43
    - 44
  ready: true
